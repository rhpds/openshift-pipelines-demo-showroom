= Module 1: Automated Pipeline Deployment
:imagesdir: ../assets/images
:source-highlighter: rouge

In this module, you'll see how OpenShift Pipelines transforms HealthTech's manual, error-prone deployment process into automated, repeatable workflows that accelerate virtual care platform delivery.

== Part 1: Creating Your First Automated Pipeline

=== Know

_HealthTech faces a critical challenge: manual deployments take 3 weeks and block urgent virtual care feature rollouts. Development teams submit tickets and wait for infrastructure provisioning, environment configuration, and manual security checks before a single line of code reaches production._

**Business Impact:**

* 3-week deployment cycles delay critical patient-facing features
* Manual processes introduce configuration errors that require rollback
* Development teams spend 40% of their time waiting for deployments
* Virtual care platform updates miss regulatory compliance windows

**Current State:**

HealthTech's platform teams manually provision infrastructure, configure environments, and deploy applications across fragmented regional data centers. Each deployment requires coordination across 5 teams with handoffs that introduce delays and errors.

**What OpenShift Pipelines Changes:**

OpenShift Pipelines eliminates manual deployment steps through Kubernetes-native continuous integration and continuous delivery (CI/CD). Built on Tekton, it provides cloud-native pipeline automation that runs directly in your OpenShift cluster with no external CI/CD tools required.

**Business Value:**

* Reduce deployment time from 3 weeks to 2 hours (97% faster)
* Enable 5x faster feature delivery for virtual care platform
* Eliminate manual errors through automated, repeatable workflows
* Accelerate compliance-ready deployments across all regions

=== Show

**Optional visual**: Architecture diagram showing OpenShift Pipelines components (Tasks, Pipelines, PipelineRuns) and how they connect to your OpenShift cluster

**What I say:**

"HealthTech development teams currently wait 3 weeks for deployments. Let me show you how OpenShift Pipelines reduces that to 2 hours through automated CI/CD workflows."

**What I do:**

. Access the OpenShift web console

* Navigate to `{console_url}` in your browser
* Login with username `{user}`
* Password: `{password}`

. Switch to the Developer perspective

* Click the perspective switcher in the top-left navigation
* Select "Developer" from the dropdown menu
* This view provides developer-focused pipeline creation and management

. Create a new project for pipeline demonstrations

* Click "Project" dropdown at the top
* Select "Create Project"
* Enter project name: `healthtech-pipelines`
* Click "Create"

. Navigate to Pipelines view

* In the left navigation, click "Pipelines"
* You'll see the Pipelines dashboard (currently empty)
* This is where all your automated CI/CD workflows will appear

. Create your first pipeline

* Click "Create" → "Pipeline"
* You'll see the Pipeline Builder interface
* This visual editor lets you construct pipelines from reusable Tasks

. Add the git-clone Task

* Click "+ Add task"
* Search for `git-clone` in the task catalog
* Select "git-clone" Task
* This Task clones your application source code from Git

. Configure git-clone parameters

* In the Task panel, set:
** url: `https://github.com/sclorg/nodejs-ex`
** revision: `main`
* This points to a sample Node.js application repository

. Add the buildah Task for container image builds

* Click "+ Add task" after git-clone
* Search for `buildah` in the task catalog
* Select "buildah" Task
* Connect it to git-clone output

. Configure buildah parameters

* Set image name: `image-registry.openshift-image-registry.svc:5000/healthtech-pipelines/patient-portal:latest`
* This builds a container image and pushes to OpenShift's internal registry

. Add the openshift-client Task for deployment

* Click "+ Add task" after buildah
* Search for `openshift-client` in the task catalog
* Select "openshift-client" Task
* Connect it to buildah output

. Configure deployment command

* In the SCRIPT field, enter:
+
[source,bash]
----
oc new-app patient-portal:latest --name=patient-portal
oc expose svc/patient-portal
----

. Save the pipeline

* Click "Create" at the bottom
* Pipeline name: `healthtech-patient-portal-pipeline`
* Your automated deployment pipeline is now created

**What they should notice:**

* ✓ No infrastructure provisioning tickets required
* ✓ No manual environment configuration
* ✓ Visual pipeline builder makes automation accessible
* ✓ Reusable Tasks from the catalog eliminate custom scripting
* ✓ **Metric highlight**: "What used to require 3 weeks of coordination now takes minutes to set up"

**Optional visual**: Screenshot of completed pipeline showing git-clone → buildah → openshift-client flow

**If asked:**

Q: "Does this work with our existing Git repositories?"

A: "Yes, OpenShift Pipelines supports GitHub, GitLab, Bitbucket, and private Git servers. You simply update the git-clone Task URL parameter to point to your repository."

Q: "What about different programming languages?"

A: "The task catalog includes builders for Node.js, Python, Java, .NET, Go, and more. You select the appropriate buildah base image for your language."

Q: "How do we handle secrets for private registries?"

A: "OpenShift integrates with Kubernetes secrets. You create a secret with registry credentials and link it to the pipeline ServiceAccount. I can show that in the next module."

== Part 2: Running Your Automated Pipeline

=== Know

_Creating a pipeline is just the beginning. The real business value emerges when HealthTech developers trigger automated deployments with a single action, eliminating weeks of manual work and enabling rapid feature delivery for virtual care platforms._

**Developer Workflow Transformation:**

**Before OpenShift Pipelines:**

* Developer commits code to Git
* Developer submits infrastructure ticket (wait: 3-5 days)
* Platform team provisions environment (wait: 5-7 days)
* Security team reviews configuration (wait: 4-6 days)
* Developer manually deploys and tests (2-3 days)
* Total: 3 weeks per deployment

**After OpenShift Pipelines:**

* Developer commits code to Git
* Pipeline automatically builds, tests, and deploys (2 hours)
* Total: 2 hours per deployment

**Business Impact:**

* Development teams deploy 5x more frequently
* Feature velocity increases from monthly to weekly releases
* Infrastructure teams focus on platform improvements instead of manual provisioning
* Compliance requirements are met through automated policy enforcement

=== Show

**What I say:**

"Now let me show you the developer experience. Watch how a single action triggers the entire automated workflow that replaces 3 weeks of manual work."

**What I do:**

. Navigate to the pipeline you created

* In the Pipelines view, click `healthtech-patient-portal-pipeline`
* This opens the pipeline details page

. Examine the pipeline visualization

* You'll see the visual representation of your pipeline Tasks
* Each Task shows its inputs, outputs, and connections
* This makes the entire workflow transparent and debuggable

**Optional visual**: Screenshot of pipeline visualization showing connected Tasks with parameters

. Start a pipeline run

* Click "Actions" → "Start"
* The "Start Pipeline" dialog appears with parameter inputs

. Configure the pipeline run

* Git URL is pre-filled from your pipeline definition
* Click "Start" to trigger the automated workflow
* OpenShift creates a PipelineRun to execute your pipeline

. Watch the pipeline execution in real-time

* The pipeline visualization updates to show Task progress
* Tasks execute sequentially: git-clone → buildah → openshift-client
* Each Task shows real-time logs and status

. Observe the git-clone Task

* Click the git-clone Task in the visualization
* View logs showing repository being cloned
* Notice the automatic workspace management

. Monitor the buildah Task

* Watch as buildah builds the container image
* Logs show layer creation and image push to registry
* No manual Docker commands or registry configuration needed

. See the deployment Task execute

* The openshift-client Task creates the application
* It exposes the service automatically
* Your application is now running in OpenShift

. Verify the deployed application

* Navigate to "Topology" in the left navigation
* You'll see the `patient-portal` application deployed
* Click the route icon to open the application in a browser

. Check the application route

* The application is accessible at its generated route URL
* This would be your HealthTech patient portal in production
* From code commit to running application: 2 hours instead of 3 weeks

**What they should notice:**

* ✓ Single "Start" action replaces weeks of manual coordination
* ✓ Real-time visibility into every deployment step
* ✓ Automatic container image builds with no Docker expertise required
* ✓ Self-service deployment with no infrastructure tickets
* ✓ **Metric highlight**: "This 2-hour automated workflow replaced 3 weeks of manual processes. HealthTech developers can now deploy virtual care features 5x faster."

**Optional visual**: Screenshot of successful pipeline run showing all green checkmarks

**If asked:**

Q: "Can we trigger pipelines automatically on Git commits?"

A: "Absolutely. OpenShift Pipelines integrates with Git webhooks and event listeners. When developers push code, the pipeline triggers automatically with no manual intervention."

Q: "What about rollback if something goes wrong?"

A: "OpenShift maintains deployment history. You can roll back to any previous version with a single command or through the web console. I'll show that in Module 3."

Q: "How do we handle different environments like dev, staging, and production?"

A: "You can parameterize pipelines for different environments and add approval gates for production deployments. That's part of the compliance automation we'll cover in Module 2."

== Summary

In this module, you saw how OpenShift Pipelines transforms HealthTech's 3-week manual deployment process into a 2-hour automated workflow:

**What You Demonstrated:**

* Created a Kubernetes-native CI/CD pipeline using visual builder
* Automated build, test, and deployment with reusable Tasks
* Eliminated infrastructure provisioning tickets and manual coordination
* Enabled self-service deployment for development teams

**Business Value Delivered:**

* 97% faster deployments (3 weeks → 2 hours)
* 5x increase in feature delivery velocity
* Zero manual configuration errors through automation
* Developer productivity gains of 20+ hours per deployment cycle

**Next Steps:**

In Module 2, you'll add built-in compliance and security automation to meet HealthTech's strict healthcare regulations while maintaining this accelerated deployment velocity.
